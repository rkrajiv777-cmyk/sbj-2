<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SBJ Admin Panel</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Poppins', sans-serif; background: #f4f6f9; padding-top: 80px; }
        .admin-card { background: white; border-radius: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); padding: 30px; margin-bottom: 30px; }
        .navbar-brand { font-weight: 700; font-size: 1.8rem; }
        .preview-img { max-height: 200px; object-fit: cover; border-radius: 10px; margin: 10px 0; }
        .video-item, .photo-item { background: #f8f9fa; padding: 15px; border-radius: 10px; margin-bottom: 10px; }
        .btn-remove { background: #dc3545; color: white; border: none; }
    </style>
</head>
<body>

    <!-- Navbar -->
    <nav class="navbar navbar-dark bg-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">üîê SBJ Admin Panel</a>
            <a href="index.html" class="btn btn-outline-light">‚Üê Back to Website</a>
        </div>
    </nav>

    <div class="container">

        <h2 class="text-center my-5 display-6">Admin Dashboard</h2>

        <!-- 1. Change Hero Banner -->
        <div class="admin-card">
            <h4>üîπ Change Home Page Hero Banner</h4>
            <p>Current Banner:</p>
            <img id="current-banner" src="" class="preview-img w-100" alt="Current Banner">
            <div class="mt-3">
                <label class="form-label">New Banner Image URL (Unsplash, direct link ya GitHub raw):</label>
                <input type="text" id="new-banner-url" class="form-control" placeholder="https://images.unsplash.com/...">
                <button class="btn btn-primary mt-3" onclick="updateBanner()">Update Banner</button>
            </div>
        </div>

        <!-- 2. Manage Workout Videos -->
        <div class="admin-card">
            <h4>üìπ Manage Workout Videos</h4>
            <div id="videos-list"></div>

            <hr>

            <h5>Add New Video</h5>
            <div class="row">
                <div class="col-md-6">
                    <input type="text" id="video-title" class="form-control mb-2" placeholder="Video Title (e.g. Beginner Workout)">
                </div>
                <div class="col-md-6">
                    <input type="text" id="video-url" class="form-control mb-2" placeholder="YouTube Embed URL (e.g. https://www.youtube.com/embed/abc123)">
                </div>
            </div>
            <button class="btn btn-success" onclick="addVideo()">Add Video</button>
        </div>

        <!-- 3. Manage Before-After Photos -->
        <div class="admin-card">
            <h4>üì∏ Manage Before-After Photos (21 Days Winners)</h4>
            <div id="photos-list"></div>

            <hr>

            <h5>Add New Transformation Photo</h5>
            <div class="row">
                <div class="col-md-6">
                    <input type="text" id="photo-url" class="form-control mb-2" placeholder="Direct Image URL (GitHub raw recommended)">
                </div>
                <div class="col-md-6">
                    <input type="text" id="photo-caption" class="form-control mb-2" placeholder="Caption (e.g. 30kg Fat Loss)">
                </div>
            </div>
            <button class="btn btn-success" onclick="addPhoto()">Add Photo</button>
        </div>

        <div class="text-center my-5">
            <p class="text-success fw-bold">‚úÖ All changes are saved automatically in your browser.</p>
            <p>Clear browser data to reset everything.</p>
        </div>
    </div>

    <script>
        // Load data from localStorage
        function loadData() {
            // Banner
            const banner = localStorage.getItem('heroBanner') || 'https://images.unsplash.com/photo-1517836357463-d25dfeac3438?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80';
            document.getElementById('current-banner').src = banner;

            // Videos
            const videos = JSON.parse(localStorage.getItem('workoutVideos') || '[]');
            const videosList = document.getElementById('videos-list');
            videosList.innerHTML = '<h5>Current Videos:</h5>';
            videos.forEach((v, i) => {
                videosList.innerHTML += `
                    <div class="video-item d-flex justify-content-between align-items-center">
                        <div>
                            <strong>${v.title}</strong><br>
                            <small>${v.url}</small>
                        </div>
                        <button class="btn btn-remove btn-sm" onclick="removeVideo(${i})">Remove</button>
                    </div>`;
            });

            // Photos
            const photos = JSON.parse(localStorage.getItem('beforeAfterPhotos') || '[]');
            const photosList = document.getElementById('photos-list');
            photosList.innerHTML = '<h5>Current Photos:</h5>';
            photos.forEach((p, i) => {
                photosList.innerHTML += `
                    <div class="photo-item d-flex justify-content-between align-items-center">
                        <div>
                            <img src="${p.url}" class="preview-img" style="max-height:100px;">
                            <br><strong>${p.caption}</strong>
                        </div>
                        <button class="btn btn-remove btn-sm" onclick="removePhoto(${i})">Remove</button>
                    </div>`;
            });
        }

        // Update Banner
        function updateBanner() {
            const url = document.getElementById('new-banner-url').value.trim();
            if (url) {
                localStorage.setItem('heroBanner', url);
                document.getElementById('current-banner').src = url;
                alert('Banner updated! Refresh home page to see changes.');
            }
        }

        // Add Video
        function addVideo() {
            const title = document.getElementById('video-title').value.trim();
            const url = document.getElementById('video-url').value.trim();
            if (title && url) {
                const videos = JSON.parse(localStorage.getItem('workoutVideos') || '[]');
                videos.push({ title, url });
                localStorage.setItem('workoutVideos', JSON.stringify(videos));
                loadData();
                document.getElementById('video-title').value = '';
                document.getElementById('video-url').value = '';
            }
        }

        // Remove Video
        function removeVideo(index) {
            const videos = JSON.parse(localStorage.getItem('workoutVideos') || '[]');
            videos.splice(index, 1);
            localStorage.setItem('workoutVideos', JSON.stringify(videos));
            loadData();
        }

        // Add Photo
        function addPhoto() {
            const url = document.getElementById('photo-url').value.trim();
            const caption = document.getElementById('photo-caption').value.trim() || 'Amazing Transformation';
            if (url) {
                const photos = JSON.parse(localStorage.getItem('beforeAfterPhotos') || '[]');
                photos.push({ url, caption });
                localStorage.setItem('beforeAfterPhotos', JSON.stringify(photos));
                loadData();
                document.getElementById('photo-url').value = '';
                document.getElementById('photo-caption').value = '';
            }
        }

        // Remove Photo
        function removePhoto(index) {
            const photos = JSON.parse(localStorage.getItem('beforeAfterPhotos') || '[]');
            photos.splice(index, 1);
            localStorage.setItem('beforeAfterPhotos', JSON.stringify(photos));
            loadData();
        }

        // Load on start
        window.onload = loadData;
    </script>

    <!-- WhatsApp Float (optional in admin) -->
    <a href="https://wa.me/917973359934" target="_blank" class="whatsapp-float">
        <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" width="60">
    </a>
    <style>
        .whatsapp-float { position: fixed; bottom: 40px; right: 40px; background: #25d366; border-radius: 50%; box-shadow: 2px 2px 10px rgba(0,0,0,0.3); z-index: 1000; }
        .whatsapp-float img { margin-top: 8px; filter: brightness(0) invert(1); }
    </style>
<script>
    const password = "sbj2026"; // ye password change kar lena
    let input = prompt("Admin Password daalen:");
    if (input !== password) {
        alert("Wrong password!");
        window.location.href = "index.html";
    }
</script>
<script>
    function adminLogin() {
        const correctPassword = "sbj2026"; // Ye password change kar lena (strong bana)

        let userPassword = prompt("üîê Admin Access\nPassword daalen:");

        if (userPassword === correctPassword) {
            window.location.href = "admin.html";
        } else {
            alert("‚ùå Galat Password! Access denied.");
        }
    }
</script>
</body>
</html>